<div class="alumno-container">

  <div class="header-list">
    <h2>Lista de Alumnos</h2>

    <input 
      type="text" 
      placeholder="Buscar por nombre o DNI..."
      [(ngModel)]="filtro"
      (input)="filtrarAlumnos()"
    >
  </div>

  <p class="contador">
    Total registrados: <strong>{{ alumnosFiltrados.length }}</strong>
  </p>

  <div class="tabla-wrapper">
    <table>
      <thead>
        <tr>
          <th>DNI</th>
          <th>Nombres</th>
          <th>Apellidos</th>
          <th>Grado</th>
          <th>Secci√≥n</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let alumno of alumnosFiltrados">

          <td>{{ alumno.dni }}</td>
          <td>{{ alumno.nombres }}</td>
          <td>{{ alumno.apellidos }}</td>
          <td>{{ alumno.grado }}</td>
          <td>{{ alumno.seccion }}</td>

          <td>
            <span 
              [ngClass]="{
                'activo': alumno.estado === 'ACTIVO',
                'inactivo': alumno.estado === 'INACTIVO'
              }">
              {{ alumno.estado }}
            </span>
          </td>

          <td class="acciones-btn">

            <button class="editar" (click)="abrirModal(alumno)">
              ‚úè
            </button>

            <button class="eliminar" (click)="eliminarAlumno(alumno.id)">
              üóë
            </button>

          </td>

        </tr>

        <tr *ngIf="alumnosFiltrados.length === 0">
          <td colspan="7" class="sin-datos">
            No hay alumnos registrados.
          </td>
        </tr>

      </tbody>
    </table>
  </div>
</div>


<!-- üî• MODAL DE EDICI√ìN -->
<div class="modal-backdrop" *ngIf="mostrarModal">

  <div class="modal">

    <h3>Editar Alumno</h3>

    <label>DNI</label>
    <input [(ngModel)]="alumnoSeleccionado!.dni">

    <label>Nombres</label>
    <input [(ngModel)]="alumnoSeleccionado!.nombres">

    <label>Apellidos</label>
    <input [(ngModel)]="alumnoSeleccionado!.apellidos">

    <label>Grado</label>
    <input [(ngModel)]="alumnoSeleccionado!.grado">

    <label>Secci√≥n</label>
    <input [(ngModel)]="alumnoSeleccionado!.seccion">

    <label>Estado</label>
    <select [(ngModel)]="alumnoSeleccionado!.estado">
      <option value="ACTIVO">ACTIVO</option>
      <option value="INACTIVO">INACTIVO</option>
    </select>

    <div class="modal-actions">
      <button class="guardar" (click)="guardarCambios()">üíæ Guardar</button>
      <button class="cancelar" (click)="cerrarModal()">‚ùå Cancelar</button>
    </div>

  </div>
</div>